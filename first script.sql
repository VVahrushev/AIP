-- MySQL Script generated by MySQL Workbench
-- Thu May 12 23:11:24 2022
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema new_schema1
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema new_schema1
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `new_schema1` ;
USE `new_schema1` ;

-- -----------------------------------------------------
-- Table `new_schema1`.`Currency`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `new_schema1`.`Currency` (
  `Id` DECIMAL(8,0) NOT NULL,
  `Name` LONGTEXT NOT NULL,
  `Amount` DECIMAL(8,0) NOT NULL,
  PRIMARY KEY (`Id`));


-- -----------------------------------------------------
-- Table `new_schema1`.`Employee`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `new_schema1`.`Employee` (
  `Id` DECIMAL(8,0) NOT NULL,
  `Name` LONGTEXT NOT NULL,
  `Surname` LONGTEXT NOT NULL,
  `Emplyment_Date` DATE NOT NULL,
  `Date_Of_Dismissal` DATE NULL DEFAULT NULL,
  PRIMARY KEY (`Id`));


-- -----------------------------------------------------
-- Table `new_schema1`.`Incassation`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `new_schema1`.`Incassation` (
  `Id` DECIMAL(8,0) NOT NULL,
  `Date` DATE NOT NULL,
  `Cur_ID` DECIMAL(8,0) NOT NULL,
  `Emp_ID` DECIMAL(8,0) NOT NULL,
  PRIMARY KEY (`Id`),
  CONSTRAINT `FK_INCASSAT_5_CURRENCY`
    FOREIGN KEY (`Cur_ID`)
    REFERENCES `new_schema1`.`Currency` (`Id`)
    ON DELETE restrict
    ON UPDATE restrict,
  CONSTRAINT `FK_INCASSAT_6_EMPLOYEE`
    FOREIGN KEY (`Emp_ID`)
    REFERENCES `new_schema1`.`Employee` (`Id`)
    ON DELETE restrict
    ON UPDATE restrict);


-- -----------------------------------------------------
-- Table `new_schema1`.`Exchange_Rate`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `new_schema1`.`Exchange_Rate` (
  `Id` DECIMAL(8,0) NOT NULL,
  `Date` DATE NOT NULL,
  `Cur_ID` DECIMAL(8,0) NOT NULL,
  `Price_Buy` DECIMAL(8,0) NOT NULL,
  `Price_Sell` DECIMAL(8,0) NOT NULL,
  PRIMARY KEY (`Id`),
  CONSTRAINT `fk_Exchange_Rate_Currency1`
    FOREIGN KEY (`Cur_ID`)
    REFERENCES `new_schema1`.`Currency` (`Id`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `new_schema1`.`Transaction`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `new_schema1`.`Transaction` (
  `Id` DECIMAL(8,0) NOT NULL,
  `Date` DATE NOT NULL,
  `Emp_ID` DECIMAL(8,0) NOT NULL,
  `Exch_ID` DECIMAL(8,0) NOT NULL,
  `Cur_Id` DECIMAL(8,0) NOT NULL,
  PRIMARY KEY (`Id`),
  CONSTRAINT `FK_TRANSACT_2_EMPLOYEE`
    FOREIGN KEY (`Emp_ID`)
    REFERENCES `new_schema1`.`Employee` (`Id`)
    ON DELETE restrict
    ON UPDATE restrict,
  CONSTRAINT `FK_TRANSACT_4_CURRENCY`
    FOREIGN KEY (`Cur_Id`)
    REFERENCES `new_schema1`.`Currency` (`Id`)
    ON DELETE restrict
    ON UPDATE restrict,
  CONSTRAINT `fk_Transaction_Exchange_Rate1`
    FOREIGN KEY (`Exch_ID`)
    REFERENCES `new_schema1`.`Exchange_Rate` (`Id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `new_schema1`.`Currency`
-- -----------------------------------------------------
START TRANSACTION;
USE `new_schema1`;
INSERT INTO `new_schema1`.`Currency` (`Id`, `Name`, `Amount`) VALUES (1, 'USD', 247882);
INSERT INTO `new_schema1`.`Currency` (`Id`, `Name`, `Amount`) VALUES (2, 'EUR', 215235);
INSERT INTO `new_schema1`.`Currency` (`Id`, `Name`, `Amount`) VALUES (3, 'PND', 435435);
INSERT INTO `new_schema1`.`Currency` (`Id`, `Name`, `Amount`) VALUES (4, 'RUB', 242424);
INSERT INTO `new_schema1`.`Currency` (`Id`, `Name`, `Amount`) VALUES (5, 'BYN', 43543534);

COMMIT;


-- -----------------------------------------------------
-- Data for table `new_schema1`.`Employee`
-- -----------------------------------------------------
START TRANSACTION;
USE `new_schema1`;
INSERT INTO `new_schema1`.`Employee` (`Id`, `Name`, `Surname`, `Emplyment_Date`, `Date_Of_Dismissal`) VALUES (1, 'koasdkosad', 'sdajdsjksa', '1998-02-07', '2005-05-13');
INSERT INTO `new_schema1`.`Employee` (`Id`, `Name`, `Surname`, `Emplyment_Date`, `Date_Of_Dismissal`) VALUES (2, 'Ksodkosd', 'sHFSHI', '2005-10-10', NULL);
INSERT INTO `new_schema1`.`Employee` (`Id`, `Name`, `Surname`, `Emplyment_Date`, `Date_Of_Dismissal`) VALUES (3, 'HDJSJOqw', 'SDJHKSAD', '2007-09-26', '2008-07-17');
INSERT INTO `new_schema1`.`Employee` (`Id`, `Name`, `Surname`, `Emplyment_Date`, `Date_Of_Dismissal`) VALUES (4, 'YGdksodko', 'WRHWJfd', '2009-07-15', NULL);
INSERT INTO `new_schema1`.`Employee` (`Id`, `Name`, `Surname`, `Emplyment_Date`, `Date_Of_Dismissal`) VALUES (5, 'DFJfjiwejfi', 'FSKJDKS', '2019-03-20', '2021-05-31');

COMMIT;


-- -----------------------------------------------------
-- Data for table `new_schema1`.`Incassation`
-- -----------------------------------------------------
START TRANSACTION;
USE `new_schema1`;
INSERT INTO `new_schema1`.`Incassation` (`Id`, `Date`, `Cur_ID`, `Emp_ID`) VALUES (1, '2022-04-09', 1, 2);
INSERT INTO `new_schema1`.`Incassation` (`Id`, `Date`, `Cur_ID`, `Emp_ID`) VALUES (2, '2022-05-10', 3, 2);
INSERT INTO `new_schema1`.`Incassation` (`Id`, `Date`, `Cur_ID`, `Emp_ID`) VALUES (3, '2022-05-11', 4, 5);
INSERT INTO `new_schema1`.`Incassation` (`Id`, `Date`, `Cur_ID`, `Emp_ID`) VALUES (4, '2022-05-12', 2, 2);
INSERT INTO `new_schema1`.`Incassation` (`Id`, `Date`, `Cur_ID`, `Emp_ID`) VALUES (5, '2022-05-13', 1, 5);
INSERT INTO `new_schema1`.`Incassation` (`Id`, `Date`, `Cur_ID`, `Emp_ID`) VALUES (6, '2022-05-14', 2, 3);

COMMIT;


-- -----------------------------------------------------
-- Data for table `new_schema1`.`Exchange_Rate`
-- -----------------------------------------------------
START TRANSACTION;
USE `new_schema1`;
INSERT INTO `new_schema1`.`Exchange_Rate` (`Id`, `Date`, `Cur_ID`, `Price_Buy`, `Price_Sell`) VALUES (1, '2022-05-05', 1, 20, 25);
INSERT INTO `new_schema1`.`Exchange_Rate` (`Id`, `Date`, `Cur_ID`, `Price_Buy`, `Price_Sell`) VALUES (2, '2022-05-06', 3, 30, 35);
INSERT INTO `new_schema1`.`Exchange_Rate` (`Id`, `Date`, `Cur_ID`, `Price_Buy`, `Price_Sell`) VALUES (3, '2022-05-07', 4, 31, 37);
INSERT INTO `new_schema1`.`Exchange_Rate` (`Id`, `Date`, `Cur_ID`, `Price_Buy`, `Price_Sell`) VALUES (4, '2022-05-08', 5, 11, 21);
INSERT INTO `new_schema1`.`Exchange_Rate` (`Id`, `Date`, `Cur_ID`, `Price_Buy`, `Price_Sell`) VALUES (5, '2022-05-08', 4, 51, 59);
INSERT INTO `new_schema1`.`Exchange_Rate` (`Id`, `Date`, `Cur_ID`, `Price_Buy`, `Price_Sell`) VALUES (6, '2022-05-09', 3, 31, 36);
INSERT INTO `new_schema1`.`Exchange_Rate` (`Id`, `Date`, `Cur_ID`, `Price_Buy`, `Price_Sell`) VALUES (7, '2022-05-11', 2, 28, 29);

COMMIT;


-- -----------------------------------------------------
-- Data for table `new_schema1`.`Transaction`
-- -----------------------------------------------------
START TRANSACTION;
USE `new_schema1`;
INSERT INTO `new_schema1`.`Transaction` (`Id`, `Date`, `Emp_ID`, `Exch_ID`, `Cur_Id`) VALUES (1, '2022-05-12', 1, 2, 3);
INSERT INTO `new_schema1`.`Transaction` (`Id`, `Date`, `Emp_ID`, `Exch_ID`, `Cur_Id`) VALUES (2, '2022-05-12', 2, 4, 5);
INSERT INTO `new_schema1`.`Transaction` (`Id`, `Date`, `Emp_ID`, `Exch_ID`, `Cur_Id`) VALUES (3, '2022-05-12', 3, 2, 1);
INSERT INTO `new_schema1`.`Transaction` (`Id`, `Date`, `Emp_ID`, `Exch_ID`, `Cur_Id`) VALUES (4, '2022-05-12', 2, 2, 2);
INSERT INTO `new_schema1`.`Transaction` (`Id`, `Date`, `Emp_ID`, `Exch_ID`, `Cur_Id`) VALUES (5, '2022-05-12', 2, 4, 2);
INSERT INTO `new_schema1`.`Transaction` (`Id`, `Date`, `Emp_ID`, `Exch_ID`, `Cur_Id`) VALUES (6, '2022-05-12', 4, 5, 1);
INSERT INTO `new_schema1`.`Transaction` (`Id`, `Date`, `Emp_ID`, `Exch_ID`, `Cur_Id`) VALUES (7, '2022-05-12', 3, 3, 3);

COMMIT;

